(function(a){a("th.sorting").each(function(){var h=a(this);var b=h.attr("id");var i=(_s.columns[b])?_s.columns[b]:b;var g=h.parent().parent().parent().data("form");var f;if(f=_s.clauses[i]){h.removeClass("sorting");if(f=="DESC"){h.addClass("sorting_asc")}else{h.addClass("sorting_desc")}}h.click(function(){var c=h.hasClass("sorting_desc")?"DESC":"ASC";var e=a("#"+g);e.children("#order-"+i).remove();var d=a(".order",e).length;a('<input type="hidden" id="order-'+i+'" class="order" name="order['+d+']" />').appendTo(e).val(i+":"+c);e.submit()})})})(jQuery);